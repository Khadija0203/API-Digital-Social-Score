# Configuration Prometheus
global:
  scrape_interval: 15s # Fréquence de collecte des métriques
  evaluation_interval: 15s # Fréquence d'évaluation des règles

# Configuration des jobs de scraping
scrape_configs:
  # Job pour surveiller Prometheus lui-même
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # Job pour l'API FastAPI
  - job_name: "fastapi-toxic-detection"
    scrape_interval: 10s
    metrics_path: "/metrics"
    static_configs:
      - targets: ["host.docker.internal:8080"] # API Windows via Docker Desktop
    scrape_timeout: 5s

# Règles d'alerting (optionnel)
rule_files:
  # - "alert_rules.yml"
# Configuration des alertes (optionnel)
# alerting:
#   alertmanagers:
#     - static_configs:
#         - targets:
#           - alertmanager:9093
